{
    "sourceFile": "README.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1751478968246,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1751478968246,
            "name": "Commit-0",
            "content": "[![Open in Dev Containers](https://img.shields.io/static/v1?label=Dev%20Containers&message=Open&color=blue&logo=data:image/svg%2bxml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE3IDE2VjdsLTYgNU0yIDlWOGwxLTFoMWw0IDMgOC04aDFsNCAyIDEgMXYxNGwtMSAxLTQgMmgtMWwtOC04LTQgM0gzbC0xLTF2LTFsMy0zIi8+PC9zdmc+)](https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/seanchatmangpt/wvrgen) [![Open in GitHub Codespaces](https://img.shields.io/static/v1?label=GitHub%20Codespaces&message=Open&color=blue&logo=github)](https://github.com/codespaces/new/seanchatmangpt/wvrgen)\n\n# WeaverGen v2: BPMN-Driven Semantic Code Generation\n\n**OpenTelemetry-powered semantic code generation toolkit with BPMN workflow orchestration, AI agents, and process mining capabilities.**\n\n## 🚀 Overview\n\nWeaverGen v2 is a comprehensive toolkit that combines OpenTelemetry's Weaver Forge with SpiffWorkflow BPMN engine to provide visual workflow-driven semantic code generation. This represents a paradigm shift from manual coding to semantic-driven generation with built-in observability, AI agent orchestration, and process mining capabilities.\n\n## ✨ Key Features\n\n### 🔧 **Core Capabilities**\n- **BPMN Workflow Engine**: Visual workflow orchestration using SpiffWorkflow\n- **Semantic Code Generation**: Transform YAML semantic conventions into production code\n- **Multi-Language Support**: Generate code for Python, JavaScript, Go, Rust, and more\n- **OpenTelemetry Integration**: Built-in observability with semantic spans and metrics\n- **AI Agent Orchestration**: Multi-agent communication and validation systems\n- **Process Mining**: XES conversion, discovery, and analysis capabilities\n\n### 🛠️ **Tool-Based CLI Architecture**\nWeaverGen v2 organizes functionality into **7 core tools** that match user mental models:\n\n```bash\nweavergen <tool> <action> [options]\n```\n\n1. **`workflow`** - BPMN workflow operations\n2. **`forge`** - Weaver Forge lifecycle commands  \n3. **`semantic`** - AI-powered semantic generation\n4. **`agents`** - AI agent operations\n5. **`mining`** - Process mining and XES conversion\n6. **`xes`** - Advanced XES operations\n7. **`templates`** - Template management\n8. **`validate`** - Validation commands\n9. **`generate`** - Code generation commands\n10. **`debug`** - Debugging and diagnostics\n11. **`bpmn`** - BPMN workflow execution\n\n### 🎯 **Advanced Features**\n- **Service Task Integration**: Custom service tasks for Weaver Forge operations\n- **File-Based Persistence**: Simple workflow and specification storage\n- **Span-Based Validation**: Runtime validation through OpenTelemetry spans\n- **Template System**: Jinja2-based code generation templates\n- **Multi-Agent Communication**: AI agent consensus building and validation\n- **Process Discovery**: Algorithm-driven process model discovery\n- **Conformance Checking**: Process model conformance validation\n\n## 🚀 Quick Start\n\n```bash\n# Install dependencies\nuv sync\n\n# Initialize a semantic convention registry\nuv run weavergen forge init my-registry --template enterprise\n\n# Add a BPMN workflow\nuv run weavergen workflow add --process SemanticGeneration --bpmn bpmn/semantic_generation.bpmn\n\n# List available workflows\nuv run weavergen workflow list\n\n# Run a workflow with initial data\nuv run weavergen workflow run SemanticGeneration --data '{\"semantic_file\": \"conventions.yaml\", \"target_language\": \"python\"}'\n\n# Generate code from semantic conventions\nuv run weavergen forge generate semantic.yaml --language python\n\n# Convert OpenTelemetry spans to XES for process mining\nuv run weavergen xes convert spans.json --output process.xes\n\n# Discover process models from event logs\nuv run weavergen xes discover process.xes --algorithm alpha --output-format bpmn\n\n# Deploy AI agents for validation\nuv run weavergen agents validate semantic.yaml --agents 5 --deep\n\n# Debug with span visualization\nuv run weavergen debug spans --format table --live\n```\n\n## 📋 CLI Commands Overview\n\n### Workflow Management\n```bash\nweavergen workflow add <process> --bpmn <files>     # Add workflow specification\nweavergen workflow list                             # List specifications\nweavergen workflow run <spec-id> --data <json>      # Execute workflow\nweavergen workflow show <spec-id> --format tree     # Show workflow structure\nweavergen workflow validate <bpmn-file> --strict    # Validate BPMN\nweavergen workflow delete <spec-id>                 # Delete specification\n```\n\n### Weaver Forge Operations\n```bash\nweavergen forge init <name> --template enterprise   # Initialize registry\nweavergen forge generate <semantic.yaml> --language python\nweavergen forge validate <registry> --strict        # Validate conventions\nweavergen forge templates --language go             # List templates\nweavergen forge pipeline <semantic.yaml> --agents 5 # Full pipeline\n```\n\n### AI-Powered Semantic Generation\n```bash\nweavergen semantic generate \"API service with user management\" --model gpt-4\nweavergen semantic enhance existing.yaml --suggestions 5 --auto-apply\nweavergen semantic analyze semantic.yaml --checks completeness,consistency\nweavergen semantic merge file1.yaml file2.yaml --strategy smart\n```\n\n### AI Agent Operations\n```bash\nweavergen agents communicate semantic.yaml --agents 3 --rounds 5\nweavergen agents validate semantic.yaml --agents 5 --deep\nweavergen agents analyze codebase/ --focus performance --agents 3\nweavergen agents orchestrate workflow.bpmn --agents 5 --async\nweavergen agents forge-to-agents semantic.yaml --count 5\n```\n\n### Process Mining & XES\n```bash\nweavergen xes convert spans.json --output process.xes --filter-noise\nweavergen xes discover process.xes --algorithm alpha --output-format bpmn\nweavergen xes analyze process.xes --metrics performance,bottlenecks --visualize\nweavergen xes conformance process.xes model.bpmn --method token-replay\nweavergen xes visualize process.xes --viz-type process-map --interactive\nweavergen xes predict model.pkl \"Task_A,Task_B\" --top-k 3\n```\n\n### Debugging & Diagnostics\n```bash\nweavergen debug spans --format table --live         # Live span monitoring\nweavergen debug health --components all --deep      # System health check\nweavergen debug inspect workflow --verbose          # Deep inspection\nweavergen debug trace generation --detailed         # Execution tracing\nweavergen debug performance --threshold 1.0         # Performance analysis\n```\n\n## 🏗️ Architecture\n\n```\nweavergen/\n├── cli.py                    # Main CLI interface with tool-based structure\n├── cli_workflow.py           # Workflow subcommand with span support\n├── cli_debug.py              # Debug subcommand with span visualization\n├── engine/\n│   ├── simple_engine.py      # BPMN workflow engine\n│   ├── service_task.py       # WeaverGen service operations\n│   ├── forge_service_tasks.py # Forge-specific service tasks\n│   └── xes_service_tasks.py  # XES-specific service tasks\n├── commands/                 # Tool-based command implementations\n│   ├── forge.py              # Weaver Forge lifecycle\n│   ├── semantic.py           # AI-powered semantic generation\n│   ├── agents.py             # AI agent operations\n│   ├── xes.py                # XES and process mining\n│   ├── mining.py             # Process mining operations\n│   ├── templates.py          # Template management\n│   ├── validate.py           # Validation commands\n│   ├── generate.py           # Code generation\n│   ├── debug.py              # Debugging and diagnostics\n│   └── bpmn.py               # BPMN workflow execution\n├── bpmn/                     # BPMN workflow definitions\n│   ├── semantic_generation.bpmn\n│   └── simple_workflow.bpmn\n├── templates/                # Jinja2 code generation templates\n├── semantic_conventions/     # Semantic convention definitions\n└── enhanced_instrumentation.py # OpenTelemetry integration\n```\n\n## 🔄 Service Tasks\n\nThe following service tasks are available for BPMN workflows:\n\n- `validate_semantic_convention`: Validate YAML semantic conventions\n- `generate_semantic_code`: Generate code from semantic conventions\n- `execute_weaver_forge`: Run Weaver Forge transformations\n- `convert_spans_to_xes`: Convert OpenTelemetry spans to XES format\n- `discover_process_model`: Discover process models from event logs\n- `analyze_process_performance`: Analyze process performance metrics\n\n## 🎯 Paradigm Shift: Why Traditional \"Best Practices\" Are Anti-Patterns Here\n\nWeaverGen represents a fundamental shift from manual coding to semantic-driven generation. This changes everything about how we think about software development.\n\n### Anti-Patterns in the WeaverGen Paradigm\n\n#### 1. **Manual Code Reviews** → Anti-Pattern\n- **Traditional**: Peer review of code changes for quality\n- **WeaverGen**: Code is generated, not written. Review happens at semantic convention level only.\n\n#### 2. **Unit Testing Generated Code** → Anti-Pattern\n- **Traditional**: 100% test coverage is gold standard\n- **WeaverGen**: Testing generated code means you don't trust your generator. Test the generator once, validate with spans.\n\n#### 3. **Dependency Injection / IoC Containers** → Anti-Pattern\n- **Traditional**: Loose coupling through DI\n- **WeaverGen**: Single binary with everything included. Dependencies resolved at generation time.\n\n#### 4. **Microservices Architecture** → Anti-Pattern\n- **Traditional**: Small, independent services\n- **WeaverGen**: Generate monolithic binaries from semantic conventions. Distribution at binary level.\n\n#### 5. **Package Management (pip, npm, maven)** → Anti-Pattern\n- **Traditional**: Careful dependency version management\n- **WeaverGen**: 125MB binary includes everything. Package managers are complexity vectors.\n\n#### 6. **Environment-Specific Configuration** → Anti-Pattern\n- **Traditional**: .env files, config maps, environment variables\n- **WeaverGen**: Configuration generated into binary. Environment differences are semantic variations.\n\n#### 7. **API Versioning Strategies** → Anti-Pattern\n- **Traditional**: v1, v2 endpoints, deprecation cycles\n- **WeaverGen**: Semantic conventions version everything. Generate new binary for new version.\n\n#### 8. **Manual Documentation** → Anti-Pattern\n- **Traditional**: Keep docs in sync with code\n- **WeaverGen**: Documentation generated from semantic conventions. Manual docs are lies waiting to happen.\n\n#### 9. **Feature Flags / Progressive Rollout** → Anti-Pattern\n- **Traditional**: Gradual feature enablement\n- **WeaverGen**: Generate different binaries for different features. Feature flags are runtime complexity.\n\n#### 10. **Database Migrations** → Anti-Pattern\n- **Traditional**: Careful schema evolution scripts\n- **WeaverGen**: Generate new binary with new schema. Data migration is a separate semantic operation.\n\n#### 11. **CI/CD Pipelines** → Anti-Pattern\n- **Traditional**: Complex build/test/deploy pipelines\n- **WeaverGen**: One command generates deployable binary. CI/CD is just running the generator.\n\n#### 12. **Error Handling Code** → Anti-Pattern\n- **Traditional**: Comprehensive try/catch blocks\n- **WeaverGen**: Happy path only in semantic conventions. Error handling generated from patterns.\n\n#### 13. **Abstract Base Classes / Interfaces** → Anti-Pattern\n- **Traditional**: Design patterns for extensibility\n- **WeaverGen**: Generate concrete implementations. Abstraction at semantic level only.\n\n#### 14. **ORMs and Database Abstraction** → Anti-Pattern\n- **Traditional**: Database-agnostic code\n- **WeaverGen**: Generate database-specific code. Switching databases means regenerating.\n\n#### 15. **Logging Statements in Code** → Anti-Pattern\n- **Traditional**: Strategic log placement\n- **WeaverGen**: OpenTelemetry spans generated automatically. Manual logging is redundant.\n\n#### 16. **Configuration as Code (Terraform, etc.)** → Anti-Pattern\n- **Traditional**: Infrastructure defined in code\n- **WeaverGen**: Infrastructure generated from semantic conventions. IaC is another manual step.\n\n#### 17. **Design Patterns (Factory, Strategy, etc.)** → Anti-Pattern\n- **Traditional**: Reusable solutions to common problems\n- **WeaverGen**: Patterns encoded in generator. Patterns in generated code = generator failure.\n\n#### 18. **Code Comments** → Anti-Pattern\n- **Traditional**: Explain complex logic\n- **WeaverGen**: Generated code needs no explanation. Comments belong in semantic conventions.\n\n#### 19. **Pull Request Workflow** → Anti-Pattern\n- **Traditional**: Review, discuss, merge\n- **WeaverGen**: Semantic changes trigger regeneration. No merge conflicts in generated code.\n\n#### 20. **Modular Architecture** → Anti-Pattern\n- **Traditional**: Separation of concerns through modules\n- **WeaverGen**: Single binary with everything. Modularity is a semantic concern.\n\n#### 21. **API Mocking for Tests** → Anti-Pattern\n- **Traditional**: Mock external dependencies\n- **WeaverGen**: Generate test scenarios from semantic conventions. Mocking implies uncertainty.\n\n#### 22. **Developer Environments** → Anti-Pattern\n- **Traditional**: Local dev, staging, production\n- **WeaverGen**: Single binary runs anywhere. Environment differences are semantic variations.\n\n### The Meta Anti-Pattern\n\n**\"Best Practices\" Themselves** → The ultimate anti-pattern is following \"best practices\" instead of generating from semantic conventions. Best practices assume human-written code, which is the root anti-pattern.\n\n### The Only Practice That Matters\n\nIn the WeaverGen paradigm:\n1. **Define semantically** - Everything starts with semantic conventions\n2. **Generate completely** - No manual code, ever\n3. **Deploy atomically** - Single binary deployment\n4. **Validate through spans** - Runtime reality via OpenTelemetry\n\nEverything else is unnecessary complexity from the manual coding era.\n\n## 📦 Installation\n\nTo install this package, run:\n\n```sh\npip install weavergen\n```\n\n## 🎮 Usage\n\nTo view the CLI help information, run:\n\n```sh\nweavergen --help\n```\n\nFor specific tool help:\n\n```sh\nweavergen workflow --help\nweavergen forge --help\nweavergen xes --help\nweavergen agents --help\n```\n\n## 🔧 Development\n\n<details>\n<summary>Prerequisites</summary>\n\n1. [Generate an SSH key](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent#generating-a-new-ssh-key) and [add the SSH key to your GitHub account](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account).\n1. Configure SSH to automatically load your SSH keys:\n\n    ```sh\n    cat << EOF >> ~/.ssh/config\n    \n    Host *\n      AddKeysToAgent yes\n      IgnoreUnknown UseKeychain\n      UseKeychain yes\n      ForwardAgent yes\n    EOF\n    ```\n\n1. [Install Docker Desktop](https://www.docker.com/get-started).\n1. [Install VS Code](https://code.visualstudio.com/) and [VS Code's Dev Containers extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers). Alternatively, install [PyCharm](https://www.jetbrains.com/pycharm/download/).\n1. _Optional:_ install a [Nerd Font](https://www.nerdfonts.com/font-downloads) such as [FiraCode Nerd Font](https://github.com/ryanoasis/nerd-fonts/tree/master/patched-fonts/FiraCode) and [configure VS Code](https://github.com/tonsky/FiraCode/wiki/VS-Code-Instructions) or [PyCharm](https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions) to use it.\n\n</details>\n\n<details open>\n<summary>Development environments</summary>\n\nThe following development environments are supported:\n\n1. ⭐️ _GitHub Codespaces_: click on [Open in GitHub Codespaces](https://github.com/codespaces/new/seanchatmangpt/wvrgen) to start developing in your browser.\n1. ⭐️ _VS Code Dev Container (with container volume)_: click on [Open in Dev Containers](https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/seanchatmangpt/wvrgen) to clone this repository in a container volume and create a Dev Container with VS Code.\n1. ⭐️ _uv_: clone this repository and run the following from root of the repository:\n\n    ```sh\n    # Create and install a virtual environment\n    uv sync --python 3.12 --all-extras\n\n    # Activate the virtual environment\n    source .venv/bin/activate\n\n    # Install the pre-commit hooks\n    pre-commit install --install-hooks\n    ```\n\n1. _VS Code Dev Container_: clone this repository, open it with VS Code, and run <kbd>Ctrl/⌘</kbd> + <kbd>⇧</kbd> + <kbd>P</kbd> → _Dev Containers: Reopen in Container_.\n1. _PyCharm Dev Container_: clone this repository, open it with PyCharm, [create a Dev Container with Mount Sources](https://www.jetbrains.com/help/pycharm/start-dev-container-inside-ide.html), and [configure an existing Python interpreter](https://www.jetbrains.com/help/pycharm/configuring-python-interpreter.html#widget) at `/opt/venv/bin/python`.\n\n</details>\n\n<details open>\n<summary>Developing</summary>\n\n- This project follows the [Conventional Commits](https://www.conventionalcommits.org/) standard to automate [Semantic Versioning](https://semver.org/) and [Keep A Changelog](https://keepachangelog.com/) with [Commitizen](https://github.com/commitizen-tools/commitizen).\n- Run `poe` from within the development environment to print a list of [Poe the Poet](https://github.com/nat-n/poethepoet) tasks available to run on this project.\n- Run `uv add {package}` from within the development environment to install a run time dependency and add it to `pyproject.toml` and `uv.lock`. Add `--dev` to install a development dependency.\n- Run `uv sync --upgrade` from within the development environment to upgrade all dependencies to the latest versions allowed by `pyproject.toml`. Add `--only-dev` to upgrade the development dependencies only.\n- Run `cz bump` to bump the app's version, update the `CHANGELOG.md`, and create a git tag. Then push the changes and the git tag with `git push origin main --tags`.\n\n</details>\n\n## 📊 Current Status\n\n### ✅ **Implemented Features**\n- **BPMN Workflow Engine**: Full SpiffWorkflow integration with custom service tasks\n- **Tool-Based CLI**: 11 core tools with comprehensive command structure\n- **OpenTelemetry Integration**: Span-based instrumentation and debugging\n- **Semantic Generation**: AI-powered semantic convention generation\n- **Process Mining**: XES conversion, discovery, and analysis\n- **AI Agent Framework**: Multi-agent communication and validation\n- **Template System**: Jinja2-based code generation templates\n- **Validation Framework**: Multi-level validation capabilities\n- **Debug & Diagnostics**: Comprehensive debugging tools\n\n### 🚧 **In Development**\n- **Weaver Binary Integration**: Direct Weaver Forge binary execution\n- **Advanced Process Discovery**: Machine learning-based process discovery\n- **Real-time Agent Communication**: Live multi-agent consensus building\n- **Enhanced Visualization**: Interactive process and span visualizations\n\n### 📈 **Roadmap**\n- **Enterprise Templates**: Pre-built semantic convention templates\n- **Cloud Integration**: AWS, GCP, Azure semantic conventions\n- **Performance Optimization**: Advanced caching and optimization\n- **Community Templates**: Template sharing and marketplace\n\n## 🤝 Contributing\n\nWe welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md) for details.\n\n## 📄 License\n\nThis project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.\n"
        }
    ]
}